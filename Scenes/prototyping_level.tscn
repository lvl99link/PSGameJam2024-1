[gd_scene load_steps=29 format=3 uid="uid://cvbfu4iw0f8c3"]

[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="1_2dkag"]
[ext_resource type="PackedScene" uid="uid://psco1baapw31" path="res://Prefabs/custom_camera.tscn" id="2_k4vor"]
[ext_resource type="Texture2D" uid="uid://xx2wsg7vw6ic" path="res://Assets/icon.svg" id="2_plmpr"]
[ext_resource type="PackedScene" uid="uid://dafrdpmlh500b" path="res://Prefabs/UI/score_ui.tscn" id="3_4ww4u"]
[ext_resource type="Script" path="res://Scripts/StateMachine.gd" id="3_aoeth"]
[ext_resource type="Script" path="res://Scripts/Hand.gd" id="3_u35k6"]
[ext_resource type="Script" path="res://addons/donut_collision_polygon2D/donut_collision_polygon2D.gd" id="4_b8j21"]
[ext_resource type="Script" path="res://Scripts/States/HandDefaultState.gd" id="4_neqxf"]
[ext_resource type="PackedScene" uid="uid://j8dje6eh86el" path="res://Prefabs/UI/strength_bar.tscn" id="4_s24qq"]
[ext_resource type="Texture2D" uid="uid://3mcygeh82o2v" path="res://Assets/Art/Maps/Jam-A-Slime-Arena.png" id="4_y73fv"]
[ext_resource type="PackedScene" uid="uid://dp3lkoqx5nigr" path="res://Prefabs/UI/victory_screen.tscn" id="5_qgvp8"]
[ext_resource type="Script" path="res://Scripts/States/HandHoldingState.gd" id="6_f2a4q"]
[ext_resource type="PackedScene" uid="uid://b1xgqwhsvt638" path="res://Prefabs/UI/pause_menu.tscn" id="6_lfnx2"]
[ext_resource type="Script" path="res://Scripts/States/HandDraggingState.gd" id="7_jkchb"]
[ext_resource type="PackedScene" uid="uid://cpw7a2j0x3alc" path="res://Prefabs/score_area.tscn" id="8_7supw"]

[sub_resource type="CircleShape2D" id="CircleShape2D_jvgl3"]
radius = 8.0

[sub_resource type="SpriteFrames" id="SpriteFrames_kmuk2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_plmpr")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"dragging",
"speed": 5.0
}, {
"frames": [],
"loop": false,
"name": &"flick",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"holding",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_eiugq"]
size = Vector2(1088, 1.99951)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m8b5i"]
size = Vector2(2384, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kqtrp"]
size = Vector2(2384, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s1rik"]
size = Vector2(28, 1106)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0gpou"]
size = Vector2(28, 1106)

[sub_resource type="CircleShape2D" id="CircleShape2D_ci4k8"]
radius = 42.0119

[sub_resource type="CircleShape2D" id="CircleShape2D_xwleo"]
radius = 64.0312

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hnrrt"]
size = Vector2(292, 1088)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wi2tq"]
size = Vector2(16, 1088)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tjxsh"]
size = Vector2(288, 1080)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rc53a"]
size = Vector2(17, 1088)

[node name="PrototypingLevel" type="Node2D"]

[node name="GameManager" type="Node2D" parent="." node_paths=PackedStringArray("camera", "player_start_areas", "score_ui", "victory_ui", "strength_bar_ui") groups=["GameManager"]]
unique_name_in_owner = true
script = ExtResource("1_2dkag")
camera = NodePath("../Camera2D")
player_start_areas = [NodePath("../Player 1 Start/Player1StartArea"), NodePath("../Player 2 Start/Player2StartArea")]
score_ui = NodePath("../GameUICanvas/ScoreUI")
victory_ui = NodePath("../GameUICanvas/VictoryScreen")
strength_bar_ui = NodePath("../StrengthBar")

[node name="Timer" type="Timer" parent="GameManager"]
one_shot = true

[node name="CursorArea" type="Area2D" parent="GameManager"]
visible = false
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameManager/CursorArea"]
shape = SubResource("CircleShape2D_jvgl3")
debug_color = Color(0, 1, 0.14902, 0.419608)

[node name="HandSprite" type="AnimatedSprite2D" parent="GameManager"]
z_index = 3
scale = Vector2(0.25, 0.25)
sprite_frames = SubResource("SpriteFrames_kmuk2")
autoplay = "default"
script = ExtResource("3_u35k6")

[node name="StateMachine" type="Node" parent="GameManager/HandSprite"]
script = ExtResource("3_aoeth")
initial_state = NodePath("FREE")

[node name="FREE" type="Node" parent="GameManager/HandSprite/StateMachine"]
script = ExtResource("4_neqxf")

[node name="HOLDING" type="Node" parent="GameManager/HandSprite/StateMachine"]
script = ExtResource("6_f2a4q")

[node name="DRAGGING" type="Node" parent="GameManager/HandSprite/StateMachine"]
script = ExtResource("7_jkchb")

[node name="StrengthBar" parent="." instance=ExtResource("4_s24qq")]
visible = false
scale = Vector2(0.4, 0.4)

[node name="Camera2D" parent="." instance=ExtResource("2_k4vor")]
limit_left = -1210
limit_right = 1210

[node name="GameUICanvas" type="CanvasLayer" parent="."]

[node name="ScoreUI" parent="GameUICanvas" instance=ExtResource("3_4ww4u")]

[node name="VictoryScreen" parent="GameUICanvas" instance=ExtResource("5_qgvp8")]

[node name="PauseMenu" parent="GameUICanvas" instance=ExtResource("6_lfnx2")]
visible = false

[node name="Jam-a-slime-arena" type="Sprite2D" parent="."]
z_index = -1
texture = ExtResource("4_y73fv")

[node name="Walls" type="Node2D" parent="."]

[node name="StartWall1" type="StaticBody2D" parent="Walls"]
position = Vector2(-814, 543)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/StartWall1"]
position = Vector2(13.0017, -542)
rotation = 1.5708
shape = SubResource("RectangleShape2D_eiugq")
one_way_collision = true

[node name="StartWall2" type="StaticBody2D" parent="Walls"]
position = Vector2(795, 543)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/StartWall2"]
position = Vector2(0.998535, -543)
rotation = -1.5708
shape = SubResource("RectangleShape2D_eiugq")
one_way_collision = true

[node name="Wall" type="StaticBody2D" parent="Walls"]
position = Vector2(0, -544)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/Wall"]
shape = SubResource("RectangleShape2D_m8b5i")

[node name="Wall2" type="StaticBody2D" parent="Walls"]
position = Vector2(0, 544)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/Wall2"]
shape = SubResource("RectangleShape2D_kqtrp")

[node name="Wall3" type="StaticBody2D" parent="Walls"]
position = Vector2(-1176, 544)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/Wall3"]
position = Vector2(0, -543)
shape = SubResource("RectangleShape2D_s1rik")

[node name="Wall4" type="StaticBody2D" parent="Walls"]
position = Vector2(1176, 544)
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/Wall4"]
position = Vector2(0, -543)
shape = SubResource("RectangleShape2D_0gpou")

[node name="Scoring Regions" type="Node2D" parent="."]

[node name="Jackpots" type="Node2D" parent="Scoring Regions"]

[node name="JACKPOT1" parent="Scoring Regions/Jackpots" instance=ExtResource("8_7supw")]
position = Vector2(-280, -207)
value = 100
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scoring Regions/Jackpots/JACKPOT1"]
shape = SubResource("CircleShape2D_ci4k8")

[node name="JACKPOT2" parent="Scoring Regions/Jackpots" instance=ExtResource("8_7supw")]
position = Vector2(290, -207)
value = 100
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scoring Regions/Jackpots/JACKPOT2"]
shape = SubResource("CircleShape2D_ci4k8")

[node name="JACKPOT3" parent="Scoring Regions/Jackpots" instance=ExtResource("8_7supw")]
position = Vector2(-283, 211)
value = 100
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scoring Regions/Jackpots/JACKPOT3"]
shape = SubResource("CircleShape2D_ci4k8")

[node name="JACKPOT4" parent="Scoring Regions/Jackpots" instance=ExtResource("8_7supw")]
position = Vector2(287, 207)
value = 100
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scoring Regions/Jackpots/JACKPOT4"]
shape = SubResource("CircleShape2D_ci4k8")

[node name="Central" type="Node2D" parent="Scoring Regions"]

[node name="TargetArea" parent="Scoring Regions/Central" instance=ExtResource("8_7supw")]
value = 25

[node name="CollisionShape2D" type="CollisionShape2D" parent="Scoring Regions/Central/TargetArea"]
position = Vector2(1, -1)
shape = SubResource("CircleShape2D_xwleo")

[node name="TargetArea2" parent="Scoring Regions/Central" instance=ExtResource("8_7supw")]

[node name="DonutCollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Central/TargetArea2"]
position = Vector2(1, -1)
polygon = PackedVector2Array(7.81039e-15, -127.558, 24.3391, -125.214, 47.7839, -118.269, 69.4728, -106.979, 90.1968, -90.1968, 105.75, -71.3292, 117.417, -49.8407, 124.77, -26.5207, 127.558, 0, 125.214, 24.3391, 118.269, 47.7839, 106.979, 69.4728, 90.1968, 90.1968, 71.3292, 105.75, 49.8407, 117.417, 26.5207, 124.77, 7.81039e-15, 127.558, -24.3391, 125.214, -47.7839, 118.269, -69.4728, 106.979, -90.1968, 90.1968, -105.75, 71.3292, -117.417, 49.8407, -124.77, 26.5207, -127.558, 1.56208e-14, -125.214, -24.3391, -118.269, -47.7839, -106.979, -69.4728, -90.1968, -90.1968, -71.3292, -105.75, -49.8407, -117.417, -26.5207, -124.77, -2.34312e-14, -127.558, -1.17328e-14, -63.8725, -13.2798, -62.4767, -24.957, -58.7949, -35.717, -52.9527, -45.1647, -45.1647, -53.568, -34.7875, -59.2216, -23.9271, -62.699, -12.1874, -63.8725, 7.82187e-15, -62.4767, 13.2798, -58.7949, 24.957, -52.9527, 35.717, -45.1647, 45.1647, -34.7875, 53.568, -23.9271, 59.2216, -12.1874, 62.699, 3.91093e-15, 63.8725, 13.2798, 62.4767, 24.957, 58.7949, 35.717, 52.9527, 45.1647, 45.1647, 53.568, 34.7875, 59.2216, 23.9271, 62.699, 12.1874, 63.8725, 0, 62.4767, -13.2798, 58.7949, -24.957, 52.9527, -35.717, 45.1647, -45.1647, 34.7875, -53.568, 23.9271, -59.2216, 12.1874, -62.699, 3.91093e-15, -63.8725, 0.0001, -127.557)
script = ExtResource("4_b8j21")
radius = 95.715
width = 63.685

[node name="TargetArea3" parent="Scoring Regions/Central" instance=ExtResource("8_7supw")]
value = 5

[node name="DonutCollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Central/TargetArea3"]
position = Vector2(1, -1)
polygon = PackedVector2Array(1.63114e-14, -266.395, 50.8306, -261.501, 99.7933, -246.997, 145.089, -223.418, 188.37, -188.37, 220.851, -148.966, 245.218, -104.089, 260.574, -55.3866, 266.395, 0, 261.501, 50.8306, 246.997, 99.7933, 223.418, 145.089, 188.37, 188.37, 148.966, 220.851, 104.089, 245.218, 55.3866, 260.574, 1.63114e-14, 266.395, -50.8306, 261.501, -99.7933, 246.997, -145.089, 223.418, -188.37, 188.37, -220.851, 148.966, -245.218, 104.089, -260.574, 55.3866, -266.395, 3.26229e-14, -261.501, -50.8306, -246.997, -99.7933, -223.418, -145.089, -188.37, -188.37, -148.966, -220.851, -104.089, -245.218, -55.3866, -260.574, -4.89344e-14, -266.395, -2.34362e-14, -127.585, -26.5264, -124.797, -49.8514, -117.443, -71.3446, -105.773, -90.2162, -90.2162, -107.002, -69.4878, -118.295, -47.7942, -125.241, -24.3444, -127.585, 1.56241e-14, -124.797, 26.5264, -117.443, 49.8514, -105.773, 71.3446, -90.2162, 90.2162, -69.4878, 107.002, -47.7942, 118.295, -24.3444, 125.241, 7.81207e-15, 127.585, 26.5264, 124.797, 49.8514, 117.443, 71.3446, 105.773, 90.2162, 90.2162, 107.002, 69.4878, 118.295, 47.7942, 125.241, 24.3444, 127.585, 0, 124.797, -26.5264, 117.443, -49.8514, 105.773, -71.3446, 90.2162, -90.2162, 69.4878, -107.002, 47.7942, -118.295, 24.3444, -125.241, 7.81207e-15, -127.585, 0.0001, -266.395)
script = ExtResource("4_b8j21")
radius = 196.99
width = 138.81

[node name="Mediums" type="Node2D" parent="Scoring Regions"]

[node name="MediumArea1" parent="Scoring Regions/Mediums" instance=ExtResource("8_7supw")]
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Mediums/MediumArea1"]
position = Vector2(-345, -275)
polygon = PackedVector2Array(1, 35, 25, 11, 49, 3, 73, 3, 105, 11, 145, -21, 185, -45, 241, -69, 289, -77, 289, -141, 57, -141, 17, -117, -23, -85, -55, -45, -87, 3, -87, 235, -70, 256, -7, 259, -7, 203, 25, 115, 1, 83)

[node name="MediumArea2" parent="Scoring Regions/Mediums" instance=ExtResource("8_7supw")]
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Mediums/MediumArea2"]
position = Vector2(295, -325)
rotation = 1.5708
polygon = PackedVector2Array(85, -57, 117, -65, 141, -57, 165, -33, 245, -65, 309, -73, 309, -129, 293, -145, 53, -145, 13, -121, -27, -89, -59, -57, -91, -0.999969, -91, 231, -27, 231, -3, 151, 21, 95, 61, 47, 53, 15, 53, -25)

[node name="MediumArea3" parent="Scoring Regions/Mediums" instance=ExtResource("8_7supw")]
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Mediums/MediumArea3"]
position = Vector2(354, 274)
rotation = 3.14159
polygon = PackedVector2Array(1, 35, 25, 11, 49, 3, 73, 3, 105, 11, 145, -21, 185, -45, 241, -69, 289, -77, 289, -141, 57, -141, 17, -117, -23, -85, -55, -45, -87, 3, -87, 235, -70, 256, -7, 259, -7, 203, 25, 115, 1, 83)

[node name="MediumArea4" parent="Scoring Regions/Mediums" instance=ExtResource("8_7supw")]
allowed_multipliers = Array[int]([1, 2])

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Scoring Regions/Mediums/MediumArea4"]
position = Vector2(-331, 308)
rotation = -1.5708
polygon = PackedVector2Array(44, 91, 36, 43, 52, 3, 92, -21, 124, -13, 148, 11, 212, -13, 292, -29, 292, -85, 276, -101, 44, -101, 4.00003, -77, -28, -53, -60, -29, -84, 2.99997, -108, 43, -108, 275, -44, 275, -12, 171)

[node name="Player 1 Start" type="Node2D" parent="."]

[node name="Player1StartArea" type="Area2D" parent="Player 1 Start"]
position = Vector2(-942, 0)
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player 1 Start/Player1StartArea"]
position = Vector2(-86, 0)
shape = SubResource("RectangleShape2D_hnrrt")

[node name="StartPoint" type="Node2D" parent="Player 1 Start/Player1StartArea"]
position = Vector2(86, 0)

[node name="SpawnPoints" type="Node2D" parent="Player 1 Start/Player1StartArea"]

[node name="Point1" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-72, -320)

[node name="Point2" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-88, -72)

[node name="Point3" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-107, 89)

[node name="Point4" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-80, 440)

[node name="Point5" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-18, 203)

[node name="Point6" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-126, -418)

[node name="Point7" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-37, -199)

[node name="Point8" type="Node2D" parent="Player 1 Start/Player1StartArea/SpawnPoints"]
position = Vector2(-116, 313)

[node name="StartLine" type="Node2D" parent="Player 1 Start"]
position = Vector2(-873, -1)

[node name="Line2D" type="Line2D" parent="Player 1 Start/StartLine"]
visible = false
points = PackedVector2Array(0, -544, 0, 544)

[node name="Area2D" type="Area2D" parent="Player 1 Start/StartLine"]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player 1 Start/StartLine/Area2D"]
position = Vector2(-1, 0)
shape = SubResource("RectangleShape2D_wi2tq")
debug_color = Color(0.937255, 0.145098, 0.501961, 0.419608)

[node name="Player 2 Start" type="Node2D" parent="."]

[node name="Player2StartArea" type="Area2D" parent="Player 2 Start"]
position = Vector2(948, 0)
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player 2 Start/Player2StartArea"]
position = Vector2(74, 4)
shape = SubResource("RectangleShape2D_tjxsh")

[node name="StartPoint" type="Node2D" parent="Player 2 Start/Player2StartArea"]
position = Vector2(-94, 0)

[node name="SpawnPoints" type="Node2D" parent="Player 2 Start/Player2StartArea"]

[node name="Point1" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(23, -429)

[node name="Point2" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(53, -189)

[node name="Point3" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(98, 78)

[node name="Point4" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(38, 363)

[node name="Point5" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(107, -334)

[node name="Point6" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(137, -73)

[node name="Point7" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(47, 213)

[node name="Point8" type="Node2D" parent="Player 2 Start/Player2StartArea/SpawnPoints"]
position = Vector2(126, 428)

[node name="StartLine2" type="Node2D" parent="Player 2 Start"]
position = Vector2(870, -1)

[node name="Line2D" type="Line2D" parent="Player 2 Start/StartLine2"]
visible = false
points = PackedVector2Array(0, -544, 0, 536)

[node name="Area2D" type="Area2D" parent="Player 2 Start/StartLine2"]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player 2 Start/StartLine2/Area2D"]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_rc53a")
debug_color = Color(0.937255, 0.145098, 0.501961, 0.419608)
